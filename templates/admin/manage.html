{% extends 'admin/base_admin.html' %}


{% block content %}
<div class="form-container">
    <div class="section-title">
        <h3>Manage Application</h3>
    </div>
    <div class="application-table">
        <table>
            <tr>
                <th>Apply Type</th>
                <th>Name</th>
                <th>Matrics No</th>
                <th>Departure DateTime</th>
                <th>Return DateTime</th>
                <th>Transport</th>
                <th>Aim</th>
                <th>Place</th>
                <th>Status</th>
                <th>Option</th>
            </tr>
            {% for application in applications %}
                <tr>
                    <td>{{ application.apply_type }}</td>
                    <td>{{ application.name }}</td>
                    <td>{{ application.matrics_no }}</td>
                    <td>{{ application.out_datetime }}</td>
                    <td>{{ application.in_datetime }}</td>
                    <td>{{ application.transport }}</td>
                    <td>{{ application.aim }}</td>
                    <td>{{ application.place }}</td>
                    <td class="{{application.status.lower()}}">{{ application.status }}</td>
                    <td>
                        <ul>
                            <li><a href="/approve/{{ application.id }}">Approve</a></li>
                            <li><a href="/cancel/{{ application.id }}">Cancel Approval</a></li>
                        </ul>
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
    <div class="quick-button-container">
        <a class="quick-button" href="{{ url_for('approve_all') }}">Approve all</a>
        <a class="quick-button" href="{{ url_for('cancel_all') }}">Cancel all</a>
        <a class="quick-button" href="{{ url_for('reset_approval') }}">Reset Approval</a>
        <a class="quick-button" href="{{ url_for('garbage_collector') }}" style='background-color: red;'>Remove Expired</a>
    </div>
</div>
{% endblock %}